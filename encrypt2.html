<html>
<head>
	<script language="javaScript">
	
	var alpha = [ "a", //0
	              "b",  
	              "c",  
	              "d",
	              "e", 
				  "f", 
				  "g", 
				  "h", 
				  "i", 
				  "j",
				  "k", 
				  "l", 
				  "m", 
				  "n", 
				  "o", 
				  "p", 
				  "q", 
				  "r", 
				  "s", 
				  "t", 
				  "u", 
				  "v", 
				  "w", 
				  "x", 
				  "y", 
				  "z", 
				  " ", 
				];
	
	var scrambled = [ "q", 
	              "w",  
	              "e",  
	              "r",
	              "t", 
				  "y", 
				  "u", 
				  "i", 
				  "o", 
				  "p",
				  "a", 
				  "s", 
				  "d", 
				  "f", 
				  "g", 
				  "h", 
				  "j", 
				  "k", 
				  "l", 
				  "z", 
				  "x", 
				  "c", 
				  "v", 
				  "b", 
				  "n", 
				  "m", 
				  " ", 
				];
				
	var numberList; 
	
	
function secretMessage()
{

	if (document.getElementById("unencrypt").value == "") // English box is empty
		{
		if (document.getElementById("encrypt").value == "") // Scrambled box is empty
			{
			alert("Both boxes are empty");
			}
		else
			{
				alert("I will decrypt this message");
				document.getElementById("unencrypt").value = code(amIEncrpting==true); //true or false
			}
		}
	else  // There's data in the first box
	{
		if (document.getElementById("encrypt").value == "") // Scrambled box is empty
		{
			alert("I will encrypt this message");
			document.getElementById("encrypt").value = code(amIEncrpting==false); //true or false
		}
		else
		{
			alert("Both boxes have data. Please clear boxes");
		}
	}

}

function code(amIEncrypting)
{
	var firstList;
	var secondList;
	var firstBox;
	
	if(amIEncrpting==true) // english to scrambled
	{
		firstList = alpha;
		secondList = scrambled;
		firstBox = document.getElementById("unencrypt").value
	}
	else  //scrambled to english
	{
		firstList = scrambled;
		secondList = alpha;
		firstBox = document.getElementById("encrypt").value
	
	}
		numberList = new Array (firstBox.length)
		var counter = 0;
		while ( counter < firstBox.length ) // counter less than number of characters
		{
			var letter = firstBox.substr(counter,1); //start at position counter and
			var letIndex = firstList.indexOf(letter); // tell me the letter
			numberList [counter] = letIndex;
			counter++;
		}
		var counter = 0;
		var answer = " "
		while ( counter < firstBox.length )
		{
			var letIndex = numberList[counter];
			answer = answer + secondList[letIndex]; 
		
			counter++;
		}
		
		return answer

}

	function clearBoxes()
	{
		document.getElementById("unencrypt").value="";
		document.getElementById("encrypt").value="";
		//alert("Clearing")
	}
	
	
	</script>
</head>
<body bgcolor="#f4d6f6">
<font color="#442c46" face="Goudy Old Style" size="5">
	<center>
		<h1>My Encryption App</h1>
		<br/>
		<input type ="button" value="Encrypt" onClick="secretMessage()"/>
		<input type ="button" value="Clear" onClick="clearBoxes()"/>
		<br/><br/>
		
		Unencrypted Message
		<input type = "text" size="40" id="unencrypt"/> 
		
		<br/><br/>
		Encrypted Message
		<input type = "text" size="40" id="encrypt"/> 
			
			
	<h3> First Quarter Assignments</h3>
	<a href="index.html">Click here</a> to return to my home page.
	</center>
</body>
</html>
